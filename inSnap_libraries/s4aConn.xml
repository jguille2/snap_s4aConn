<blocks app="Snap! 10.7.2, https://snap.berkeley.edu" version="2"><palette><category name="S4A Connector" color="24,167,181,1"/></palette><block-definition s="board connected ?" type="predicate" category="S4A Connector"><header></header><code></code><translations>ca:placa connectada?&#xD;es:¿placa connectada?&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>s4a_reportConnected</l><list></list></block></block></script></block-definition><block-definition s="set digital pin %&apos;pin&apos; to %&apos;value&apos;" type="command" category="S4A Connector"><header></header><code></code><translations>ca:posa el pin digital _ a _&#xD;es:fijar pin digital _ en _&#xD;</translations><inputs><input type="%n" initial="1">13<options>§_ext_s4a_digitalPinMenu</options></input><input type="%b" initial="1">true</input></inputs><script><block s="doApplyExtension"><l>s4a_digitalWrite(pin, value)</l><list><block var="pin"/><block var="value"/></list></block></script></block-definition><block-definition s="set pin %&apos;pin&apos; to value %&apos;value&apos;" type="command" category="S4A Connector"><header></header><code></code><translations>ca:posa el pin _ al valor _&#xD;es:fijar pin _ al valor _&#xD;</translations><inputs><input type="%n" initial="1"><options>§_ext_s4a_pwmPinMenu</options></input><input type="%n" initial="1">128</input></inputs><script><block s="doApplyExtension"><l>s4a_pwmWrite(pin, value)</l><list><block var="pin"/><block var="value"/></list></block></script></block-definition><block-definition s="set servo %&apos;pin&apos; to %&apos;value&apos;" type="command" category="S4A Connector"><header></header><code></code><translations>ca:posa el servo _ a _&#xD;es:fijar servo _ en _&#xD;</translations><inputs><input type="%n" initial="1"><options>§_ext_s4a_digitalPinMenu</options></input><input type="%s" initial="1">$_clockwise<options>angle (0-180)=90&#xD;stopped (1500)=$_stopped&#xD;clockwise (1500-1000)=$_clockwise&#xD;counter-clockwise (1500-2000)=$_counter-clockwise&#xD;disconnected=$_disconnected</options></input></inputs><script><block s="doApplyExtension"><l>s4a_servoWrite(pin, value)</l><list><block var="pin"/><block var="value"/></list></block></script></block-definition><block-definition s="analog reading %&apos;pin&apos;" type="reporter" category="S4A Connector"><header></header><code></code><translations>ca:lectura analògica _&#xD;es:lectura analógica _&#xD;</translations><inputs><input type="%n" initial="1"><options>§_ext_s4a_analogPinMenu</options></input></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>s4a_reportAnalogReading(pin)</l><list><block var="pin"/></list></block></block></script></block-definition><block-definition s="digital reading %&apos;pin&apos;" type="predicate" category="S4A Connector"><header></header><code></code><translations>ca:lectura digital _&#xD;es:lectura digital _&#xD;</translations><inputs><input type="%n" initial="1"><options>§_ext_s4a_digitalPinMenu</options></input></inputs><script><block s="doReport"><block s="reportApplyExtension"><l>s4a_reportDigitalReading(pin)</l><list><block var="pin"/></list></block></block></script></block-definition><block-definition s="i2c write data %&apos;lst&apos; to register %&apos;reg&apos; at address %&apos;address&apos;" type="command" category="S4A Connector" helper="true" space="true"><header></header><code></code><translations>ca:i2c escriu dades _ al registre _ de l&apos;adreça _&#xD;es:i2c escribir datos _ al registro _ de la dirección _&#xD;</translations><inputs><input type="%mult%s"></input><input type="%s"></input><input type="%s"></input></inputs><script><block s="doApplyExtension"><l>s4a_i2cwrite(address, bytes, reg)</l><list><block var="address"/><block var="lst"/><block var="reg"/></list></block></script></block-definition><block-definition s="i2c send commands %&apos;lst&apos; to address %&apos;address&apos;" type="command" category="S4A Connector" helper="true"><header></header><code></code><translations>ca:i2c envia comandes _ a l&apos;adreça _&#xD;es:i2c enviar comandos _ a la dirección _&#xD;</translations><inputs><input type="%mult%s"></input><input type="%s"></input></inputs><script><block s="doApplyExtension"><l>s4a_i2csend(address, bytes)</l><list><block var="address"/><block var="lst"/></list></block></script></block-definition><block-definition s="i2c read %&apos;reg&apos; registers from address %&apos;address&apos;" type="reporter" category="S4A Connector" helper="true"><header></header><code></code><translations>ca:i2c llegeix _ registres de l&apos;adreça _&#xD;es:i2c leer _ registros en la dirección _&#xD;</translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doApplyExtension"><l>s4a_i2cread1(address, reg)</l><list><block var="address"/><block var="reg"/></list></block><block s="doWaitUntil"><block s="reportApplyExtension"><l>s4a_i2cread2(address)</l><list><block var="address"/></list></block></block><block s="doReport"><block s="reportApplyExtension"><l>s4a_i2cread3(address)</l><list><block var="address"/></list></block></block></script></block-definition><block-definition s="$robot Tone pin %&apos;pin&apos; | %&apos;freq&apos; Hz %&apos;dur&apos; ms" type="command" category="S4A Connector" helper="true" space="true"><comment x="0" y="0" w="619.0000000000001" collapsed="false">Play sound of selected frequenzy (Hz) during a time (miliseconds value) using a buzzer on the selected pin.&#xD;&#xD;-Frequency. Accept values from 0 to 65535 Hz, but real operation range is 32-16000Hz.&#xD;-Duration. Accept values up to 60000ms.&#xD;-Default pin is 14 (A0), ready to Imagina shield.</comment><header></header><code></code><translations></translations><inputs><input type="%n">14</input><input type="%n">0</input><input type="%n">0</input></inputs><script><block s="doApplyExtension"><l>s4a_tone(pin, freq, dur)</l><list><block var="pin"/><block var="freq"/><block var="dur"/></list></block></script></block-definition><block-definition s="$robot pulseOut pin %&apos;pin&apos; | %&apos;stValue&apos; %&apos;time1&apos; %&apos;time2&apos; %&apos;time3&apos; µs" type="command" category="S4A Connector" helper="true"><comment x="0" y="0" w="573" collapsed="false">Sends a pulse (high or low) to the selected pin.&#xD;&#xD;- Times (in microseconds) for the pulse: initialStateTime, pulseTime, endingStateTime&#xD;- Times are 11 bits values: (0-2047 microseconds)</comment><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%txt" readonly="true">HIGH<options>HIGH&#xD;LOW</options></input><input type="%n"></input><input type="%n"></input><input type="%n"></input></inputs><script><block s="doApplyExtension"><l>s4a_pulseOut(pin, stValue, time1, time2, time3)</l><list><block var="pin"/><block var="stValue"/><block var="time1"/><block var="time2"/><block var="time3"/></list></block></script></block-definition><block-definition s="$robot pulseIn (µs) pin %&apos;pin&apos; | %&apos;stValue&apos; timeout: %&apos;timeout&apos; µs" type="reporter" category="S4A Connector" helper="true"><comment x="0" y="0" w="777.9999999999999" collapsed="false">Return a pulse (either HIGH or LOW) on a pin in microseconds.&#xD;&#xD;Default timeout is 1 second (1000000 µs)</comment><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%txt" readonly="true">HIGH<options>HIGH&#xD;LOW</options></input><input type="%n"></input></inputs><script><block s="doApplyExtension"><l>s4a_pulseIn1(pin, stValue, timeout)</l><list><block var="pin"/><block var="stValue"/><block var="timeout"/></list></block><block s="doWaitUntil"><block s="reportApplyExtension"><l>s4a_pulseIn2(pin)</l><list><block var="pin"/></list></block></block><block s="doReport"><block s="reportApplyExtension"><l>s4a_pulseIn3(pin)</l><list><block var="pin"/></list></block></block></script></block-definition><block-definition s="$robot ping (cm) Trig %&apos;pinSen&apos; Echo %&apos;pinRec&apos; pulse %&apos;time1&apos; %&apos;time2&apos; µs" type="reporter" category="S4A Connector" helper="true"><comment x="0" y="0" w="658" collapsed="false">Return distance (in cm) from a Ultrasonic sensor.&#xD;&#xD;-Tested range from 3 up to 400 cm. Timeouts return 1000.&#xD;-You must select the connection pins (trigger and echo).&#xD;-You can modify trigger pulse. By default it sends a 5 µs pulse after 2µs in low state.&#xD;-Distance calculation assumes the speed of sound is 343m/s (value in dry air at 20ºC)</comment><header></header><code></code><translations></translations><inputs><input type="%n">4</input><input type="%n">2</input><input type="%n">2</input><input type="%n">5</input></inputs><script><block s="doApplyExtension"><l>s4a_ping1(pinRec, pinSen, time1, time2)</l><list><block var="pinRec"/><block var="pinSen"/><block var="time1"/><block var="time2"/></list></block><block s="doWaitUntil"><block s="reportApplyExtension"><l>s4a_ping2(pinRec)</l><list><block var="pinRec"/></list></block></block><block s="doReport"><block s="reportApplyExtension"><l>s4a_ping3(pinRec)</l><list><block var="pinRec"/></list></block></block></script></block-definition><block-definition s="$robot Nunchuk %&apos;opt&apos;" type="reporter" category="S4A Connector" helper="true"><comment x="0" y="0" w="472" collapsed="false">Return sensor values from a Nunchuk connected to I2C pins.&#xD;&#xD;-Sensors: Joystick (joyX and joyY), buttons ( butC and butZ) and accelerometers (accX, accY and accZ)&#xD;-Nunchuk I2C connection uses SCL, SDA, Ground and Vcc</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">joyX<options>joyX&#xD;joyY&#xD;butZ&#xD;butC&#xD;accX&#xD;accY&#xD;accZ</options></input></inputs><script><block s="doApplyExtension"><l>s4a_nunchuk1(command)</l><list><block var="opt"/></list></block><block s="doWaitUntil"><block s="reportApplyExtension"><l>s4a_nunchuk2(command)</l><list><block var="opt"/></list></block></block><block s="doReport"><block s="reportApplyExtension"><l>s4a_nunchuk3(command)</l><list><block var="opt"/></list></block></block></script></block-definition><block-definition s="$robot DHT11 %&apos;param&apos; on pin %&apos;pin&apos;" type="reporter" category="S4A Connector" helper="true"><comment x="0" y="0" w="381" collapsed="false">Return humidity/temperature (ºC) from DHT11 sensor connected on selected pin.</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">humidity<options>humidity&#xD;temperature</options></input><input type="%n">4</input></inputs><script><block s="doApplyExtension"><l>s4a_dht111(pin, param)</l><list><block var="pin"/><block var="param"/></list></block><block s="doWaitUntil"><block s="reportApplyExtension"><l>s4a_dht112(pin, param)</l><list><block var="pin"/><block var="param"/></list></block></block><block s="doReport"><block s="reportApplyExtension"><l>s4a_dht113(pin, param)</l><list><block var="pin"/><block var="param"/></list></block></block></script></block-definition><block-definition s="$robot-1.25-243-118-29 setup %&apos;amount&apos; Neopixel LEDs on pin %&apos;pin&apos;" type="command" category="S4A Connector" helper="true" space="true"><header></header><code></code><translations>ca:$robot-1.25-243-118-29 configura _ LEDs Neopixel al pin _&#xD;es:$robot-1.25-243-118-29 configurar _ LEDs Neopixel en el pin _&#xD;</translations><inputs><input type="%n">16</input><input type="%n">6</input></inputs><script><block s="doApplyExtension"><l>s4a_neopixelConfig(pin, leds)</l><list><block var="pin"/><block var="amount"/></list></block></script></block-definition><block-definition s="$robot-1.25-243-118-29 set LED %&apos;LED number&apos; to R: %&apos;r&apos; G: %&apos;g&apos; B: %&apos;b&apos;" type="command" category="S4A Connector" helper="true"><header></header><code></code><translations>ca:$robot-1.25-243-118-29 posa el LED _ a R: _ G: _ B: _&#xD;es:$robot-1.25-243-118-29 fijar el LED _ a R: _ G: _ B: _&#xD;</translations><inputs><input type="%n"></input><input type="%n"></input><input type="%n"></input><input type="%n"></input></inputs><script><block s="doApplyExtension"><l>s4a_neopixelLED(led, r, g, b)</l><list><block var="LED number"/><block var="r"/><block var="g"/><block var="b"/></list></block></script></block-definition><block-definition s="$robot-1.25-230-168-34 IR %&apos;MESSAGE&apos; send by %&apos;CODER&apos;" type="command" category="S4A Connector" helper="true" space="true"><comment x="0" y="0" w="525" collapsed="false">Send IR signal (hexadecimal code) by IR emitter diode on pin 3, using Sony or RC5 protocol.&#xD;&#xD;You can send values from 0 to FFFFFF (6 hexadecimal digits).</comment><header></header><code></code><translations></translations><inputs><input type="%txt">FFFFFF</input><input type="%txt" readonly="true">Sony<options>Sony&#xD;RC5</options></input></inputs><script><block s="doApplyExtension"><l>s4a_irsend(message, coder)</l><list><block var="MESSAGE"/><block var="CODER"/></list></block></script></block-definition><block-definition s="$robot-1.25-230-168-34 %&apos;ACTIVA&apos; IR rec" type="command" category="S4A Connector" helper="true"><comment x="0" y="0" w="460" collapsed="false">You can Enable/Disable IR receiver function.&#xD;&#xD;-Default state is disabled.&#xD;-Enabling action allows IR rec function and disables PWM function on pins 3 and 11.&#xD;-Disabling action turns on PWM function again on pins 3 and 11.</comment><header></header><code></code><translations></translations><inputs><input type="%txt" readonly="true">Enable<options>Enable&#xD;Disable</options></input></inputs><script><block s="doApplyExtension"><l>s4a_irenable(ac)</l><list><block var="ACTIVA"/></list></block></script></block-definition><block-definition s="$robot-1.25-230-168-34 IR rec" type="reporter" category="S4A Connector" helper="true"><comment x="0" y="0" w="462" collapsed="false">Return IR code (hexadecimal) from IR receiver connected to pin 11.&#xD;&#xD;-You must &quot;Enable IR rec&quot; before. This action disables PWM function on pins 3 and 11.&#xD;-After using this receiver you can &quot;Disable IR rec&quot; to turn on PWM function on pins 3 and 11 again.</comment><header></header><code></code><translations></translations><inputs></inputs><script><block s="doApplyExtension"><l>s4a_irread1()</l><list></list></block><block s="doWaitUntil"><block s="reportApplyExtension"><l>s4a_irread2()</l><list></list></block></block><block s="doReport"><block s="reportApplyExtension"><l>s4a_irread3()</l><list></list></block></block></script></block-definition><block-definition s="init S4A Connector module" type="command" category="S4A Connector" helper="true" space="true"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>__module__s4aConn__</l><l>libraries/s4aConn/init.js</l></block></script></block-definition><variables><variable name="__module__s4aConn__" hidden="true"><l>libraries/s4aConn/init.js</l></variable></variables></blocks>
